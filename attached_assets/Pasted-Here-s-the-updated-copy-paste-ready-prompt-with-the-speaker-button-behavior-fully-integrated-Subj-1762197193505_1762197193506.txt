Here's the updated, copy-paste-ready prompt with the speaker button behavior fully integrated.

Subject: [URGENT] Change My AI Agent Chat Text Presentation â€“ Adopt Streaming Typewriter UX + Speaker Button
Team,
We are updating how My AI Agent displays all bot responses to feel more human and engaging. This includes streaming text + speaker button controls.
Current behavior: Text appears instantly; speaker icon may exist but does not control playback.
New behavior:

Text streams in real-time with typewriter animation
Speaker button controls Text-to-Speech (TTS) playback and syncs with visual typing


Implementation Requirements (Non-Negotiable):
1. Streaming Typewriter Text (Section 2 of MY_AI_AGENT_MULTIMODAL_SPEC.md)

Use useTypewriter hook (or equivalent).
Base typing speed:

Snappy: 250 WPM
Thoughtful: 150 WPM
Professional: 180 WPM


Variance delays:

+50 ms after . , ! ?
+120 ms after paragraph break
+30 ms for words > 9 letters


Show â€¦ thinking bubble (300â€“800 ms) if latency > 400 ms.
Render Markdown progressively as tokens arrive.

2. Speaker Button Behavior (Per Message)






























StateVisualBehaviorDefault (no audio)ğŸ”‡ (muted speaker)Tap â†’ starts TTS + enables audioPlayingğŸ”Š (speaker with sound waves)Tap â†’ pauses audio + pauses typewriterPausedâ¸ (pause icon)Tap â†’ resumes audio + resumes typewriter from current positionCompletedğŸ”ˆ (speaker)Tap â†’ replays from start (typewriter restarts)

Critical:

Typewriter and audio are 100% synchronized (Â±50 ms).
When audio is paused, typewriter freezes at current word.
When audio resumes, typewriter continues from exact same spot.
Highlight current spoken word (karaoke-style) during playback.


3. Speaker Button Placement

Right side of each bot message bubble (same line as timestamp).
Mobile: 44Ã—44 dp tap target.
Web: 36Ã—36 px, hover shows tooltip: â€œPlay voiceâ€.

4. Auto-Play Option (User Setting)

Add toggle in Settings > Voice:

 Auto-play voice responses


If enabled: speaker auto-triggers on message completion.
If disabled: user must tap speaker to hear.

5. Accessibility

Screen reader: â€œMessage from AI. Tap to play voice.â€
VoiceOver: Double-tap speaker to play/pause.
Keyboard: Tab to speaker â†’ Enter to toggle.


Scope:

Apply to all bot messages across web