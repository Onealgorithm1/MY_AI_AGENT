# üöÄ GitHub Deployment Guide

Complete guide to deploy your AI Agent to GitHub and then to production.

## üìã Prerequisites

- GitHub account (https://github.com)
- Git installed on your computer
- Project extracted from ZIP file

---

## üéØ Step-by-Step GitHub Setup

### Step 1: Initialize Git Repository

```bash
# Navigate to your project folder
cd myaiagent-mvp

# Initialize git
git init

# Add all files
git add .

# Make first commit
git commit -m "Initial commit - My AI Agent MVP"
```

### Step 2: Create .gitignore File

**IMPORTANT:** Don't commit sensitive files!

Create `.gitignore` in project root:

```bash
cat > .gitignore << 'EOF'
# Environment variables (NEVER commit these!)
.env
.env.local
.env.production

# Dependencies
node_modules/
package-lock.json
yarn.lock

# Build outputs
dist/
build/
.next/
out/

# Logs
logs/
*.log
npm-debug.log*
yarn-debug.log*

# OS files
.DS_Store
Thumbs.db

# IDE files
.vscode/
.idea/
*.swp
*.swo

# Uploads (user data)
uploads/
*.pem

# Database
*.sqlite
*.db

# Temp files
.tmp/
temp/
EOF

git add .gitignore
git commit -m "Add .gitignore"
```

### Step 3: Create GitHub Repository

**Option A: Via GitHub Website (Easier)**

1. Go to https://github.com
2. Click green **"New"** button (top right)
3. Repository name: `myaiagent-mvp`
4. Description: "AI Chat Agent with Real-time Voice"
5. Choose **Private** (recommended) or Public
6. **DO NOT** initialize with README (we already have one)
7. Click **"Create repository"**

**Option B: Via GitHub CLI**

```bash
# Install GitHub CLI if you haven't
# Mac: brew install gh
# Windows: Download from https://cli.github.com

# Login
gh auth login

# Create repo
gh repo create myaiagent-mvp --private --source=. --remote=origin --push
```

### Step 4: Connect Local to GitHub

```bash
# Add GitHub as remote (replace YOUR_USERNAME)
git remote add origin https://github.com/YOUR_USERNAME/myaiagent-mvp.git

# Verify remote
git remote -v

# Push to GitHub
git branch -M main
git push -u origin main
```

---

## üîí Security Checklist BEFORE Pushing

### ‚úÖ Make Sure These Are in .gitignore:

```bash
# Check if .env files are ignored
git status

# You should NOT see:
# ‚ùå .env
# ‚ùå backend/.env
# ‚ùå frontend/.env

# If you see them, add to .gitignore and run:
git rm --cached .env
git rm --cached backend/.env
git rm --cached frontend/.env
git commit -m "Remove environment files"
```

### ‚úÖ Verify No Secrets in Code

```bash
# Search for potential secrets
grep -r "sk-proj-" . --exclude-dir=node_modules
grep -r "password" . --exclude-dir=node_modules | grep -v ".example"

# Should find nothing sensitive!
```

---

## üìù Update README with Your Info

Before pushing, customize the README:

```bash
# Edit README.md
nano README.md  # or use your favorite editor

# Update these sections:
# 1. Add your GitHub repo URL
# 2. Add your name/company
# 3. Update deployment URLs (after deployment)
# 4. Add screenshots (optional)
```

---

## üöÄ Deploy to Production from GitHub

### Option 1: Railway (Recommended)

**Setup:**

1. Go to https://railway.app
2. Click **"New Project"**
3. Select **"Deploy from GitHub repo"**
4. Authenticate GitHub
5. Select `myaiagent-mvp` repo
6. Railway auto-detects and creates 2 services:
   - Backend (Node.js)
   - Frontend (Static site)

**Configure Backend:**

```bash
# Railway will auto-detect backend/package.json
# Add these environment variables in Railway dashboard:

DATABASE_URL=<auto-generated by Railway Postgres>
OPENAI_API_KEY=sk-proj-your-key-here
JWT_SECRET=<generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))">
ENCRYPTION_KEY=<generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))">
NODE_ENV=production
PORT=3000
```

**Add PostgreSQL:**

1. In Railway dashboard
2. Click **"New"** ‚Üí **"Database"** ‚Üí **"PostgreSQL"**
3. DATABASE_URL auto-connects to backend
4. Run setup script:
   - Click backend service ‚Üí **"Deploy"** ‚Üí **"Run Command"**
   - Enter: `npm run setup-db`

**Configure Frontend:**

```bash
# Railway auto-detects frontend/package.json
# Add these environment variables:

VITE_API_URL=https://your-backend-url.railway.app/api
VITE_WS_URL=wss://your-backend-url.railway.app/voice
```

**Deploy:**
- Push to GitHub
- Railway auto-deploys on every push!

---

### Option 2: Render

**Setup:**

1. Go to https://render.com
2. **New** ‚Üí **Web Service**
3. Connect GitHub repo
4. Create 2 services:

**Backend Service:**
```yaml
Name: myaiagent-api
Root Directory: backend
Build Command: npm install
Start Command: npm start
Environment: Node
```

**Environment Variables:**
```
DATABASE_URL=<from Render Postgres>
OPENAI_API_KEY=sk-proj-...
JWT_SECRET=<generate>
ENCRYPTION_KEY=<generate>
NODE_ENV=production
```

**Frontend Service:**
```yaml
Name: myaiagent-web
Root Directory: frontend
Build Command: npm install && npm run build
Publish Directory: frontend/dist
Type: Static Site
```

**Environment Variables:**
```
VITE_API_URL=https://myaiagent-api.onrender.com/api
VITE_WS_URL=wss://myaiagent-api.onrender.com/voice
```

---

### Option 3: Vercel (Frontend) + Railway (Backend)

**Backend on Railway:**
Follow Railway steps above

**Frontend on Vercel:**

1. Go to https://vercel.com
2. Import GitHub repo
3. Root Directory: `frontend`
4. Framework: Vite
5. Environment variables:
```
VITE_API_URL=https://your-railway-backend.railway.app/api
VITE_WS_URL=wss://your-railway-backend.railway.app/voice
```
6. Deploy!

---

## üîÑ Continuous Deployment Workflow

### Every Time You Make Changes:

```bash
# 1. Make your changes
# Edit files...

# 2. Test locally
npm start  # in backend
npm run dev  # in frontend

# 3. Commit changes
git add .
git commit -m "Add new feature: voice improvements"

# 4. Push to GitHub
git push origin main

# 5. Auto-deploy! üöÄ
# Railway/Render/Vercel automatically deploy
```

---

## üåø Branch Strategy (Recommended)

```bash
# Create development branch
git checkout -b development

# Make changes on dev branch
git add .
git commit -m "Testing new feature"
git push origin development

# Deploy dev branch to staging environment
# Test thoroughly

# When ready, merge to main
git checkout main
git merge development
git push origin main

# Production auto-deploys!
```

---

## üìä GitHub Best Practices

### 1. Add Repository Badges

Add to top of README.md:

```markdown
[![Deploy to Railway](https://railway.app/button.svg)](https://railway.app/template/your-template)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org)
```

### 2. Add GitHub Actions (CI/CD)

Create `.github/workflows/test.yml`:

```yaml
name: Test

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    - name: Use Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
    - name: Install Backend
      run: cd backend && npm install
    - name: Install Frontend
      run: cd frontend && npm install
    - name: Build Frontend
      run: cd frontend && npm run build
```

### 3. Add Issue Templates

Create `.github/ISSUE_TEMPLATE/bug_report.md`:

```markdown
---
name: Bug report
about: Create a report to help us improve
---

**Describe the bug**
A clear description of what the bug is.

**To Reproduce**
Steps to reproduce the behavior

**Expected behavior**
What you expected to happen

**Screenshots**
If applicable, add screenshots
```

### 4. Add Contributing Guide

Create `CONTRIBUTING.md`:

```markdown
# Contributing

1. Fork the repo
2. Create your feature branch (`git checkout -b feature/amazing`)
3. Commit changes (`git commit -m 'Add feature'`)
4. Push to branch (`git push origin feature/amazing`)
5. Open Pull Request
```

---

## üîê Secrets Management

### Environment Variables on GitHub

**For GitHub Actions:**

1. Go to repo ‚Üí **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
2. Click **"New repository secret"**
3. Add secrets:
   - `OPENAI_API_KEY`
   - `DATABASE_URL`
   - `JWT_SECRET`

**NEVER commit:**
- ‚ùå API keys
- ‚ùå Database passwords
- ‚ùå JWT secrets
- ‚ùå Encryption keys
- ‚ùå .env files

---

## üì± Add to GitHub Profile

Make your project discoverable:

1. Go to repo ‚Üí **Settings**
2. Scroll to **"About"**
3. Add:
   - Description: "AI Chat Agent with Real-time Voice"
   - Website: Your deployed URL
   - Topics: `ai`, `chatbot`, `openai`, `react`, `nodejs`, `websocket`

---

## ‚úÖ Final Checklist

Before going live:

- [ ] `.gitignore` includes all sensitive files
- [ ] No `.env` files in git history
- [ ] No API keys in code
- [ ] README.md updated with your info
- [ ] Repository is Private (or Public if you want)
- [ ] Environment variables set on Railway/Render
- [ ] Database initialized on production
- [ ] Frontend points to production backend
- [ ] SSL/HTTPS enabled
- [ ] Admin password changed from default

---

## üéØ Quick Reference

### Common Git Commands

```bash
# Check status
git status

# Add all changes
git add .

# Commit
git commit -m "Your message"

# Push
git push origin main

# Pull latest
git pull origin main

# Create branch
git checkout -b feature-name

# Switch branch
git checkout main

# Merge branch
git merge feature-name

# View history
git log --oneline

# Undo last commit (keep changes)
git reset --soft HEAD~1

# Discard all local changes
git reset --hard HEAD
```

### Emergency: Committed Secrets?

```bash
# If you accidentally committed API keys:

# 1. Remove from current commit
git rm --cached .env
git commit -m "Remove secrets"
git push origin main

# 2. Change ALL exposed secrets immediately!
# - Generate new API keys
# - Update environment variables
# - Rotate JWT secret

# 3. For git history cleanup (DANGEROUS - rewrites history):
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch .env" \
  --prune-empty --tag-name-filter cat -- --all

# Force push (only if necessary)
git push origin --force --all
```

---

## üéâ You're Done!

Your AI Agent is now:
- ‚úÖ Backed up on GitHub
- ‚úÖ Auto-deploying on every push
- ‚úÖ Versioned and tracked
- ‚úÖ Shareable with team
- ‚úÖ Ready for collaboration

**Next:** Share your repo URL and deployed app! üöÄ
